---
title: 嵌入式学习之Vi编辑器使用
id: 147
categories:
  - 起式
date: 2017-01-27 16:02:53
tags: [Vi编辑器,S3C2440,嵌入式]
---

## vi编辑器

Vi编辑器是Linux、Unix操作系统上最基本的文本编辑器，在通过终端、命令行等方式访问服务器时，Vi在系统管理中有着非常大的作用。本文将介绍Vi编辑器的基本操作。
## 1.三种模式

Vi编辑器有三种模式，分别为：命令模式、插入模式、末行模式。
命令模式，可以输入各种命令，用于移动复制删除字符、字符串等。Vi启动时，进入此模式。
输入模式，在命令模式下按I、i、A、a、O、o键进入输入模式，开始编辑文本。
末行模式，执行待定命令，可用于保存或退出vi、列出行号等。通常将末行模式算作命令模式。
三种模式的切换如图所示：

![](http://www.atime.net.cn/blog/wp-content/uploads/2017/01/00856820a0a4ef57587c137b9f16b4e7.png)

### 输入模式：

![](http://www.atime.net.cn/blog/wp-content/uploads/2017/01/2023d63c2fd366dd481e5b718332087e.png)

### 命令模式：

![](http://www.atime.net.cn/blog/wp-content/uploads/2017/01/1da5d7cfceb6af9c74203af5964824e1.png)

### 末行模式：

![](http://www.atime.net.cn/blog/wp-content/uploads/2017/01/e9ea409d8a7dccf8ffc41ebf1e4df489.png)

按ESC键进入命令模式，按aio键进入输入模式，这样记忆就比较容易。
## 2.进入退出Vi

在控制台，输入vi即可启动vi编辑器，除此之外，还可以使用vi filename 打开指定文件，若文件不存在则新建一个文件。还有其他命令这里不多解释，常用第二种命令。
## 3.光标控制

Vi编辑器使用一套不一样的方向键，在命令模式下：h：左移光标
j：下移光标

k：上移光标

l：右移光标

Ctrl+U：光标移动到首行

Ctrl+D：光标移动到末行

Ctrl+E：屏幕向下滚动一行

Ctrl+Y：屏幕向上滚动一行

Ctrl+F：屏幕向下滚动一屏

Ctrl+B：屏幕向上滚动一屏

^：光标移动到行首

$：光标移动到行未

还有其他快捷键这里不多说，使用中多练习即可。

## 4.保存退出

末行模式下常用的几个保存退出相关命令：:wq：保存并退出
:q：直接退出，不保存

:q!：强制退出，不保存

:w：保存

:/ ：搜索

:n：定位到n行

:s/old /new：一行内替换old字符串为new一次

:s/old/new/g：一行内替换所有old字符串为new

:%s/old/new/g：全文内替换所有old字符串为new

:%s/old/new/gc：替换是询问用户确认再替换

## 5.常用命令

x：删除当前光标字符X：删除光标前一字符
nx：删除当前光标后连续n个字符

nX：删除光标前连续n个字符

dd：删除行

ndd：删除n行

yy：复制当前行

nyy：复制当前n行

p：粘贴在当前行后

P：粘贴在当前行前

u：撤销操作

以上仅将Vi编辑器最基础最常用的使用做了介绍，对于嵌入式学习基本够用了，因此一些更高级的功能没有介绍。